(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={battlefield:"Battlefield_battlefield___yDJO",sideShipList:"Battlefield_sideShipList__1AbxA",leftShipList:"Battlefield_leftShipList__13_ZI Battlefield_sideShipList__1AbxA",rightShipList:"Battlefield_rightShipList__2XKfn Battlefield_sideShipList__1AbxA",boards:"Battlefield_boards__3iAX0",gap:"Battlefield_gap__3HiPb",player:"Battlefield_player__Em4Ze",currentPlayer:"Battlefield_currentPlayer__1nwZZ Battlefield_player__Em4Ze",fleetName:"Battlefield_fleetName__1KnVf"}},115:function(e){e.exports=[[53,41,57,47,50,45,43,40,32,41],[43,22,40,35,37,29,33,43,32,48],[63,33,42,33,38,32,36,35,30,56],[57,29,33,38,37,47,39,51,36,56],[50,28,40,35,29,31,30,42,27,45],[50,34,48,36,35,40,31,37,27,52],[44,33,47,38,35,41,40,38,34,57],[57,31,43,41,44,44,44,43,39,53],[60,37,44,36,35,34,33,40,40,36],[43,34,43,56,47,45,40,44,36,32]]},116:function(e,t,n){n(117),e.exports=n(258)},126:function(e,t,n){},128:function(e,t,n){},14:function(e,t,n){e.exports={board:"BoardView_board__2h3i8",view:"BoardView_view__lwBSB",battle:"BoardView_battle__2caGw",setup:"BoardView_setup__2e0M-",sneakPeak:"BoardView_sneakPeak__2eLDL",cell:"BoardView_cell__1aacS",sink:"BoardView_sink__1LRTE BoardView_cell__1aacS",hit:"BoardView_hit__1r4lS BoardView_cell__1aacS",water:"BoardView_water__1F_3j BoardView_cell__1aacS",unrevealed:"BoardView_unrevealed__D_Q4t BoardView_cell__1aacS",validTarget:"BoardView_validTarget__2Aotq BoardView_cell__1aacS",active:"BoardView_active__1ts74 BoardView_water__1F_3j BoardView_cell__1aacS",invalid:"BoardView_invalid__3NqUm BoardView_active__1ts74 BoardView_water__1F_3j BoardView_cell__1aacS"}},163:function(e,t){},168:function(e,t){},170:function(e,t){},18:function(e,t,n){e.exports={playersPicker:"PlayersList_playersPicker__3aSYO",playersLists:"PlayersList_playersLists__2V6Dw",startGame:"PlayersList_startGame__skiz1 App_Button__3oVZq",firstPlayer:"PlayersList_firstPlayer__5wMiG",playersList:"PlayersList_playersList__AO5WR",VS:"PlayersList_VS__3V9_9",playerNo:"PlayersList_playerNo__2eH-j"}},19:function(e,t,n){e.exports={setup:"SetupBoard_setup__d7QdX",boardSetup:"SetupBoard_boardSetup__fv4Wz",controls:"SetupBoard_controls__3EP2f",info:"SetupBoard_info__LdjII",reset:"SetupBoard_reset__2k3EC App_Button__3oVZq",rnd:"SetupBoard_rnd__3mKhp App_Button__3oVZq",start:"SetupBoard_start__3WsLW App_Button__3oVZq",disabled:"SetupBoard_disabled__2gCXI App_DisabledButton__31tus App_Button__3oVZq"}},202:function(e,t){},203:function(e,t){},25:function(e,t,n){e.exports={landing:"App_landing__9_yLb",landingBackground:"App_landingBackground__1qxy1",fog:"App_fog__33yNV",fogLayer:"App_fogLayer__3e59I",fogFirstLayer:"App_fogFirstLayer__1ie5I App_fogLayer__3e59I",marquee:"App_marquee__1kwMd",fogSecondLayer:"App_fogSecondLayer__3LAWr App_fogLayer__3e59I",Button:"App_Button__3oVZq",DisabledButton:"App_DisabledButton__31tus App_Button__3oVZq",returnToMainMenu:"App_returnToMainMenu__3F0jT App_Button__3oVZq"}},250:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"EasyAI",function(){return we}),n.d(r,"MediumAI",function(){return Re}),n.d(r,"HardAI",function(){return We}),n.d(r,"ConvNLAI",function(){return it});var o=n(1),a=n.n(o),i=n(114),u=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(126),n(128);var s=n(25),c=n.n(s),l=n(4),f=n.n(l),p=n(5),y=n.n(p);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var d,v={HORIZONTAL:0,VERTICAL:1},b=[{name:"Sloop",size:1},{name:"Brigantine",size:2},{name:"Frigate",size:3},{name:"Galleon",size:4}],_={SUNKEN:0,GARAGE:1,FLOATING:2},g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?(this._type=t,this._name=t.name,this._size=t.size):(this._name="",this._size=0),this._hitpoints=this._size,this._state=_.GARAGE,this._shape=v.HORIZONTAL}return m(e,null,[{key:"types",value:function(){return b}},{key:"shapes",value:function(){return v}},{key:"states",value:function(){return _}}]),m(e,[{key:"name",value:function(){return this._name}},{key:"hitpoints",value:function(){return this._hitpoints}},{key:"hit",value:function(){return this._hitpoints>0&&this._hitpoints--,0===this._hitpoints&&this.sink(),this._hitpoints}},{key:"sink",value:function(){return this._hitpoints=0,this._state=_.SUNKEN}},{key:"launch",value:function(){return this._state=_.FLOATING}},{key:"state",value:function(){return this._state}},{key:"type",value:function(){return this._type}},{key:"size",value:function(){return this._size}},{key:"shape",value:function(e){return void 0===e?this._shape:-1!==Object.values(v).indexOf(e)?(this._shape=e,this._shape):void 0}},{key:"rotate",value:function(){return this._shape=(this._shape+1)%2,this}}]),e}(),w=n(23),S=n.n(w),k=n(29),O=n.n(k);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=0,T=1,C={UNREVEALED:N,WATER:T,HIT:2,SINK:3,ERROR:-1},L=(x(d={},N,"-"),x(d,T,"~"),x(d,2,"Y"),x(d,3,"X"),d),A=g.shapes(),R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[10,10];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dim=t,this._state=S.a.ones(t).multiply(N).tolist(),this._setup=S.a.ones(t).multiply(T).tolist(),this._shipsBoard=S.a.ones(t).multiply(T).tolist(),this._ships=[],this._history=[]}return j(e,null,[{key:"results",value:function(){return C}},{key:"num2str",value:function(){return L}},{key:"verifyTarget",value:function(e,t){var n=e.dim();return Number.isInteger(t[0])&&Number.isInteger(t[1])&&t[0]>=0&&t[1]>=0&&t[0]<n[0]&&t[1]<n[1]}},{key:"verifyShootingTarget",value:function(t,n){if(!Array.isArray(n))return!1;var r=P(n,2),o=r[0],a=r[1];return e.verifyTarget(t,n)&&t.state()[a][o]===N}},{key:"verifyShipPosition",value:function(e,t,n){var r=n.size(),o=n.shape(),a=e._setup,i=P(e.dim(),2),u=i[0],s=i[1],c=P(t,2),l=c[0],f=c[1];if(o===A.HORIZONTAL){if(l+r>u)return!1;for(var p=-1;p<=r&&l+p<u;p++)if(3===a[Math.max(f-1,0)][Math.max(l+p,0)]||3===a[f][Math.max(l+p,0)]||3===a[Math.min(f+1,s-1)][Math.max(l+p,0)])return!1}else{if(o!==A.VERTICAL)return!1;if(f+r>s)return!1;for(var y=-1;y<=r&&f+y<s;y++)if(3===a[Math.max(f+y,0)][Math.max(l-1,0)]||3===a[Math.max(f+y,0)][l]||3===a[Math.max(f+y,0)][Math.min(l+1,u-1)])return!1}return!0}},{key:"verifySetup",value:function(t){var n,r;t instanceof e?(n=t.ships(),r=t.dim()):n=t;for(var o=new e(r),a=0;a<n.length;a++)if(!o.launch(n[a].pos,n[a].ship))return!1;return!0}},{key:"availableSpots",value:function(t,n){var r=t.setup().map(function(r,o){return r.map(function(r,a){return e.verifyShipPosition(t,[a,o],n)?[a,o]:null})});return y.a.flatten(r).filter(function(e){return null!==e})}}]),j(e,[{key:"dim",value:function(){return this._dim}},{key:"ships",value:function(){return this._ships}},{key:"_isShipOnBoard",value:function(e){return this._ships.find(function(t){return t.ship===e})}},{key:"_toSetup",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.shape(),a=t.size(),i=P(e,2),u=i[0],s=i[1];if(o===A.HORIZONTAL)for(var c=0;c<a;c++)this._setup[s][u+c]=n,this._shipsBoard[s][u+c]=r?void 0:t;else if(o===A.VERTICAL)for(var l=0;l<a;l++)this._setup[s+l][u]=n,this._shipsBoard[s+l][u]=r?void 0:t}},{key:"launch",value:function(t,n){return!!e.verifyTarget(this,t)&&(!!e.verifyShipPosition(this,t,n)&&(!this._isShipOnBoard(n)&&(this._ships.push({ship:n,pos:t}),this._toSetup(t,n,3),!0)))}},{key:"remove",value:function(e){if(this._isShipOnBoard(e)){var t=this._ships.find(function(t){return t.ship===e});return this._toSetup(t.pos,e,T,!0),this._ships=this._ships.filter(function(t){return t.ship!==e}),e}return!1}},{key:"clear",value:function(){var e=this;this.ships().forEach(function(t){return e.remove(t.ship)})}},{key:"launchRandomly",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.seed,a=void 0===o?void 0:o,i=r.keepShape,u=void 0!==i&&i;t=t.map(function(e){return e.ship?e.ship:e});var s=!0,c=O()(a),l=function(){return Math.floor(229*c())};return t.forEach(function(t){!u&&l()%2&&t.rotate();var r=e.availableSpots(n,t);if(0!==r.length){var o=r[l()%r.length];n.launch(o,t)}else s=!1}),s}},{key:"shoot",value:function(e){var t,n,r=this.setup(),o=this._state,a=this._history,i=P(e,2),u=i[0],s=i[1];return o[s][u]===N?3===(n=r[s][u])&&(0===(t=this._shipsBoard[s][u]).hit()?(this.sinkShip(t),n=3):n=2):n=o[s][u],a.push({target:e,result:n,ship:t}),o[s][u]=n,{result:n,ship:t}}},{key:"sinkShip",value:function(e){var t=this.ships(),n=this.dim(),r=t.find(function(t){return t.ship===e});if(!r)return!1;var o=e.shape(),a=e.size(),i=P(n,2),u=i[0],s=i[1],c=P(r.pos,2),l=c[0],f=c[1],p=this._state;if(r.ship.sink(),o===A.HORIZONTAL){for(var y=-1;y<=a&&l+y<u;y++)0!==f&&l+y>=0&&(p[f-1][l+y]=T),p[f][Math.max(l+y,0)]=-1===y||y===a?T:3,f!==s-1&&l+y>=0&&(p[f+1][l+y]=T);return!0}if(o===A.VERTICAL){for(var h=-1;h<=a&&f+h<s;h++)0!==l&&f+h>=0&&(p[f+h][l-1]=T),p[Math.max(f+h,0)][l]=-1===h||h===a?T:3,l!==u-1&&f+h>=0&&(p[f+h][l+1]=T);return!0}return!1}},{key:"state",value:function(){return this._state}},{key:"setup",value:function(){return this._setup}},{key:"unrevealedCells",value:function(){var e=this.state().map(function(e,t){return e.map(function(e,n){return e===N?[n,t]:null})});return y.a.flatten(e).filter(function(e){return null!==e})}},{key:"toString",value:function(){return this.state().map(function(e){return"[ "+e.map(function(e){return L[e]}).join(" ")+" ]"}).join("\n")}},{key:"setupToString",value:function(){return this.setup().map(function(e){return"[ "+e.map(function(e){return L[e]}).join(" ")+" ]"}).join("\n")}},{key:"history",value:function(){return this._history}}]),e}();function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){this._game=e}},{key:"leave",value:function(){this._game=void 0}},{key:"isInGame",value:function(){return void 0!==this._game}},{key:"ready",value:function(){return!1}},{key:"board",value:function(e){return e instanceof R&&(this._board=e),this._board}},{key:"ships",value:function(e){return Array.isArray(e)&&(this._ships=e),this._ships}},{key:"floatingShips",value:function(){return this._ships.filter(function(e){return e.hitpoints()>0})}},{key:"setup",value:function(e){return Array.isArray(e)&&(this._ships=e),!1}},{key:"turn",value:function(e,t){return[0,0]}},{key:"win",value:function(){}},{key:"lose",value:function(){}}])&&I(t.prototype,n),r&&I(t,r),e}();function M(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function V(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){M(a,r,o,i,u,"next",e)}function u(e){M(a,r,o,i,u,"throw",e)}i(void 0)})}}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}var G=g.types(),F=R.results(),z=F.WATER,Z=F.HIT,W=F.SINK,q=F.ERROR,X=-1,K={UNREADY:X,READY:0,SETUP:1,BATTLE:2,FINISHED:3},U=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dim,r=void 0===n?e.defaultDim():n,o=t.shipTypes,a=void 0===o?e.defaultShipTypesList():o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dim=r,this._shipTypes=a,this._players=[],this._state=X,this._started=!1,this._winners=[],this._losers=[],this._history=[],this._turn=0}var t,n,r,o;return H(e,null,[{key:"states",value:function(){return K}},{key:"defaultShipTypesList",value:function(){return[G[0],G[0],G[0],G[0],G[1],G[1],G[1],G[2],G[2],G[3]]}},{key:"defaultDim",value:function(){return[10,10]}}]),H(e,[{key:"_changeState",value:function(e){this._state=e}},{key:"dim",value:function(){return this._dim}},{key:"turnNo",value:function(){return this._turn}},{key:"players",value:function(){return this._players}},{key:"currentPlayer",value:function(){return this.players()[this.currentPlayerNo()]}},{key:"currentPlayerNo",value:function(){return this.turnNo()%this.players().length}},{key:"winners",value:function(){return this._winners}},{key:"losers",value:function(){return this._losers}},{key:"isPlayerIn",value:function(e){return-1!==this._players.indexOf(e)}},{key:"add",value:function(e){this.isPlayerIn(e)||(this._players.push(e),e.enter(this))}},{key:"remove",value:function(e){this.isPlayerIn(e)&&(this._players=this._players.filter(function(t){return t!==e}),e.leave())}},{key:"state",value:function(){return this._state}},{key:"history",value:function(e){var t=this._history;return e instanceof B&&(t=t.filter(function(t){return t.shootingPlayer===e})),t}},{key:"_prevShootOf",value:function(e){return y.a.last(this.history(e))||{}}},{key:"ready",value:(o=V(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this._players).length<2)){e.next=5;break}return e.abrupt("return",!1);case 5:return n=t.map(function(e){return e.ready()}),e.next=8,Promise.all(n);case 8:this._changeState(0);case 9:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"_assignBoardsToPlayers",value:function(){var e=this;this._boards=this._players.map(function(t){var n=new R(e.dim());return t.board(n),n})}},{key:"_createShips",value:function(){return this._shipTypes.map(function(e){return new g(e)})}},{key:"start",value:(r=V(f.a.mark(function e(){var t,n,r=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:y.a.noop,this._cb=t,n=this._players,0===this.state()){e.next=7;break}return e.abrupt("return",this._started=!1);case 7:return this._changeState(1),this._assignBoardsToPlayers(),e.next=11,this.setup(n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"_resetAttempts",value:function(){delete this._attempts}},{key:"_attempt",value:function(e){var t=this._attempts;if(t){var n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;t.set(u,t.get(u)+1)}}catch(s){r=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}else t=this._attempts=e.reduce(function(e,t){return e.set(t,1),e},new Map);return t}},{key:"setup",value:(n=V(f.a.mark(function e(t){var n,r,o,a,i,u=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Array.from(this._attempt(t)),!y.a.values(n).some(function(e){return e[1]>3})){e.next=6;break}return r=n.filter(function(e){return e[1]<4}).map(function(e){return e[0]}),o=n.filter(function(e){return e[1]>3}).map(function(e){return e[0]}),this.finish(r,o),e.abrupt("return",!1);case 6:return t.map(function(e){return e.ships(u._createShips())}),a=t.map(function(e){return e.setup(e.ships())}),e.next=10,Promise.all(a);case 10:if(!(i=t.map(function(e){return u.verify(e.board(),e.ships())})).every(function(e){return e})){e.next=16;break}return this._changeState(2),e.abrupt("return",this._started=!0);case 16:return t=t.reduce(function(e,t,n){return i[n]||e.push(t),e},[]),e.abrupt("return",this.setup(t));case 18:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"verify",value:function(e){return this._shipTypes.length===e.ships().length&&R.verifySetup(e)}},{key:"_nextTurn",value:function(){this._turn++}},{key:"turn",value:(t=V(f.a.mark(function e(){var t,n,r,o,a,i,u,s,c,l,p,y;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.currentPlayer(),n=this.players().filter(function(e){return e!==t}),r=1,o=this.turnNo(),a=this._prevShootOf(t),e.next=7,t.turn(n,a);case 7:i=e.sent,u=i.player,s=i.target,c={shootingPlayer:t,recievingPlayer:u,turn:o,target:s};case 11:if(R.verifyShootingTarget(u.board(),s)||!(r<3)){e.next=22;break}return c.result=q,this._history.push(c),e.next=16,t.turn(n,a);case 16:l=e.sent,u=l.player,s=l.target,r++,e.next=11;break;case 22:if(!(r>2)){e.next=27;break}return c.result=q,this._history.push(c),this.finish(n,[t]),e.abrupt("return",!1);case 27:return p=u.board().shoot(s),y=p.result,c.result=y,this._history.push(c),e.next=32,this._cb(c);case 32:if(y!==z){e.next=36;break}this._nextTurn(),e.next=47;break;case 36:if(y!==Z){e.next=40;break}return e.abrupt("return",this.turn());case 40:if(y!==W){e.next=47;break}if(0!==u.floatingShips().length){e.next=46;break}return this.finish([t],[u]),e.abrupt("return");case 46:return e.abrupt("return",this.turn());case 47:return e.abrupt("return",y);case 48:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"finish",value:function(e,t){this._changeState(3),this._resetAttempts(),this._winners=e,this._losers=t;var n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){a.value.win()}}catch(p){r=!0,o=p}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}var u=!0,s=!1,c=void 0;try{for(var l,f=t[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){l.value.lose()}}catch(p){s=!0,c=p}finally{try{u||null==f.return||f.return()}finally{if(s)throw c}}}}]),e}(),Y=n(30),J=n.n(Y);function Q(e){return(Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==Q(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:J.a.menuContainer},a.a.createElement("ul",{className:J.a.menu},a.a.createElement("li",{className:J.a.item},a.a.createElement("div",{className:J.a.pixelFlag}),a.a.createElement("div",{className:J.a.pixelFlagText,onClick:this.props.newGame},"New game"))))}}])&&$(n.prototype,r),i&&$(n,i),t}(),oe=n(49),ae=n.n(oe);function ie(e){return(ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return!t||"object"!==ie(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=se(this,(e=ce(t)).call.apply(e,[this].concat(o)))).select=function(e){n.selected=e,n.props.select(e)},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this;this.selected=this.selected||this.props.selected;var t=this.props.items.map(function(t,n){return a.a.createElement("li",{key:n,className:t===e.selected?ae.a.selected:ae.a.item,onClick:e.select.bind(e,t)},t.name)});return a.a.createElement("ul",{className:ae.a.list},t)}}])&&ue(n.prototype,r),i&&ue(n,i),t}();function pe(e){return(pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==pe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e,t,n){return(de="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=229,ge=_e,we=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.seed,o=void 0===r?Math.floor(Math.random()*_e):r,a=n.delay,i=void 0===a?void 0:a,u=n.name,s=void 0===u?"Easy AI":u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=me(this,ve(t).call(this)))._random=O()(o),e._name=s,void 0!==i&&e.delay(i),e}var n,r,o,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,B),n=t,(r=[{key:"name",value:function(){return this._name}},{key:"random",value:function(){return Math.floor(this._random()*ge)}},{key:"ready",value:function(){return!0}},{key:"delay",value:function(e){return"number"===typeof e&&(this._delay=e),this._delay}},{key:"setup",value:function(e){var t=this,n=this._delay;return void 0===n?this._setup(e):new Promise(function(r,o){setTimeout(function(){return r(t._setup(e))},n)})}},{key:"turn",value:(a=f.a.mark(function e(t,n){var r,o=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=this._delay)){e.next=7;break}return e.next=4,this._turn(t,n);case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",new Promise(function(e,a){setTimeout(function(){return e(o._turn(t,n))},r)}));case 8:case"end":return e.stop()}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=a.apply(e,t);function i(e){ye(o,n,r,i,u,"next",e)}function u(e){ye(o,n,r,i,u,"throw",e)}i(void 0)})},function(e,t){return i.apply(this,arguments)})},{key:"_setup",value:function(e){de(ve(t.prototype),"setup",this).call(this,e);for(var n=!0,r=this.board();n;){var o=this.random();console.log("Setting up random board with seed: ",o),r.clear(),n=!r.launchRandomly(e,{seed:o})}return r}},{key:"_turn",value:function(e,t){var n=e[0].board().unrevealedCells(),r=n[this.random()%n.length];return{player:e[0],target:r}}}])&&he(n.prototype,r),o&&he(n,o),t}();function Se(e){return(Se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return!t||"object"!==Se(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e,t,n){return(Ee="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=je(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=229,Te=R.results(),Ce=g.shapes(),Le=Ce.HORIZONTAL,Ae=Ce.VERTICAL,Re=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.seed,r=void 0===n?Math.floor(Math.random()*Ne):n,o=e.delay,a=void 0===o?void 0:o,i=e.name,u=void 0===i?"Medium AI":i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(this,je(t).call(this,{seed:r,delay:a,name:u}))}var n,r,o,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,we),n=t,(r=[{key:"_availableSpotsAround",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e[0].board().unrevealedCells().filter(function(e){return!(t[1]!==e[1]||t[0]-1!==e[0]&&t[0]+1!==e[0]||!0!==n&&n!==Le)||!(t[0]!==e[0]||t[1]-1!==e[1]&&t[1]+1!==e[1]||!0!==n&&n!==Ae)})}},{key:"_turn",value:(a=f.a.mark(function e(n,r){var o,a,i,u,s,c,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.result,a=this.firstCellHit,i=this.orientationOfHuntedShip,u=this.lastCellHit,s=[],c=[],l=[],o===Te.HIT||o===Te.SINK||a){e.next=9;break}return e.abrupt("return",Ee(je(t.prototype),"_turn",this).call(this,n,r));case 9:if(o!==Te.SINK){e.next=16;break}return this.firstCellHit=void 0,this.orientationOfHuntedShip=void 0,this.lastCellHit=void 0,e.abrupt("return",Ee(je(t.prototype),"_turn",this).call(this,n,r));case 16:if(a?a&&o===Te.WATER?(l=this._availableSpotsAround(n,a),u&&(c=this._availableSpotsAround(n,u,i))):a&&o===Te.HIT&&(void 0===i&&(a[0]===r.target[0]?i=Ae:a[1]===r.target[1]&&(i=Le)),this.lastCellHit=r.target,c=this._availableSpotsAround(n,r.target,i),l=this._availableSpotsAround(n,a,i)):(this.firstCellHit=r.target,l=this._availableSpotsAround(n,r.target)),!(s=l.concat(c)).length){e.next=22;break}return e.abrupt("return",{player:n[0],target:s[this.random()%s.length]});case 22:return this.firstCellHit=void 0,this.orientationOfHuntedShip=void 0,this.lastCellHit=void 0,e.abrupt("return",Ee(je(t.prototype),"_turn",this).call(this,n,r));case 26:case"end":return e.stop()}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=a.apply(e,t);function i(e){ke(o,n,r,i,u,"next",e)}function u(e){ke(o,n,r,i,u,"throw",e)}i(void 0)})},function(e,t){return i.apply(this,arguments)})}])&&Oe(n.prototype,r),o&&Oe(n,o),t}(),Ie=n(115);function Be(e){return(Be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==Be(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e,t,n){return(He="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ge(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze=S.a.array(Ie).reshape(100),Ze=229,We=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.seed,r=void 0===n?Math.floor(Math.random()*Ze):n,o=e.delay,a=void 0===o?void 0:o,i=e.name,u=void 0===i?"Hard AI":i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,Ge(t).call(this,{seed:r,delay:a,name:u}))}var n,r,o,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,Re),n=t,(r=[{key:"_turn",value:(a=f.a.mark(function e(n,r){var o,a,i,u,s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(Ge(t.prototype),"_turn",this).call(this,n,r);case 2:if(o=e.sent,void 0!==this.firstCellHit){e.next=16;break}return a=n[0].board().state().map(function(e){return e.map(function(e){return 0===e?1:0})}),a=S.a.array(a).reshape(100),i=ze.multiply(a),u=i.max(),i=i.subtract(u),s=S.a.softmax(i),u=s.max(),c=s.tolist().indexOf(u),o.target=[c%10,Math.floor(c/10)],e.abrupt("return",o);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=a.apply(e,t);function i(e){Me(o,n,r,i,u,"next",e)}function u(e){Me(o,n,r,i,u,"throw",e)}i(void 0)})},function(e,t){return i.apply(this,arguments)})}])&&Ve(n.prototype,r),o&&Ve(n,o),t}(),qe=n(66);function Xe(e){return(Xe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function Ue(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ke(a,r,o,i,u,"next",e)}function u(e){Ke(a,r,o,i,u,"throw",e)}i(void 0)})}}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return!t||"object"!==Xe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e,t,n){return(Qe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$e(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tt=R.results(),nt=tt.UNREVEALED,rt=tt.WATER,ot=tt.HIT,at=(tt.SINK,229),it=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.seed,r=void 0===n?Math.floor(Math.random()*at):n,o=e.delay,a=void 0===o?void 0:o,i=e.name,u=void 0===i?"Neural Network AI":i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Je(this,$e(t).call(this,{seed:r,delay:a,name:u}))}var n,r,o,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,Re),n=t,(r=[{key:"ready",value:(i=Ue(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.a("".concat(window.location.href,"conv-model/model.json"));case 2:return this.model=e.sent,e.abrupt("return",!0);case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_turn",value:(a=Ue(f.a.mark(function e(n,r){var o,a,i,u,s,c,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n[0].board().state(),a=o.map(function(e){return e.map(function(e){return e===nt?5:e===rt?0:e===ot?1:0})}),e.next=4,this.model.predict(qe.b(a).reshape([1,10,10,1])).data();case 4:if(i=e.sent,i=y.a.flatten(o).map(function(e,t){return e===nt?i[t]:0}),u=i.reduce(function(e,t,n){return t>e.max?{index:n,max:t}:e},{index:-1,max:0}),s=u.index,c=s%10,l=Math.floor(s/10),r.result!==ot&&!this.firstCellHit){e.next=13;break}return e.next=12,Qe($e(t.prototype),"_turn",this).call(this,n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",{player:n[0],target:[c,l]});case 14:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})}])&&Ye(n.prototype,r),o&&Ye(n,o),t}();function ut(e){return(ut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function ct(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){st(a,r,o,i,u,"next",e)}function u(e){st(a,r,o,i,u,"throw",e)}i(void 0)})}}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==ut(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=229,mt=ht,dt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.seed,o=void 0===r?Math.floor(Math.random()*ht):r,a=n.name,i=void 0===a?"Local Player":a,u=n.setupCallback,s=void 0===u?y.a.noop:u,c=n.turnCallback,l=void 0===c?y.a.noop:c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ft(this,pt(t).call(this)))._random=O()(o),e._name=i,e.setupCallback=s,e.turnCallback=l,e}var n,r,o,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,B),n=t,(r=[{key:"name",value:function(){return this._name}},{key:"random",value:function(){return Math.floor(this._random()*mt)}},{key:"ready",value:function(){return!0}},{key:"setup",value:(i=ct(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ships(t),e.next=3,this.setupCallback(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"turn",value:(a=ct(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.turnCallback();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})}])&&lt(n.prototype,r),o&&lt(n,o),t}(),vt=n(18),bt=n.n(vt);n(250);function _t(e){return(_t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return!t||"object"!==_t(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ot=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=wt(this,St(t).call(this,e))).state={selectedPlayers:[{cls:we,name:"Easy"},{cls:we,name:"Easy"}],firstPlayer:0},n.startGame=function(){var e=n.state.selectedPlayers.map(function(e){return e.cls});n.props.onStartGame&&n.props.onStartGame(e)},n.players=y.a.keys(r).map(function(e){return{name:e.replace("AI",""),cls:r[e]}}),n.playersWithLocal=y.a.clone(n.players),n.playersWithLocal.push({cls:dt,name:"Local Player"}),n}var n,i,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,o["Component"]),n=t,(i=[{key:"selectPlayer",value:function(e,t){var n=this.state,r=n.selectedPlayers,o=n.firstPlayer;o=t,r[t]=e,this.setState({selectedPlayers:r,firstPlayer:o})}},{key:"render",value:function(){var e=this,t="";return-1!==this.state.firstPlayer&&(t=a.a.createElement("div",{className:bt.a.firstPlayer},"Player ",this.state.firstPlayer+1," goes first")),a.a.createElement("div",{className:bt.a.playersPicker},t,a.a.createElement("div",{className:bt.a.playersLists},a.a.createElement("div",{className:bt.a.playersList},a.a.createElement("div",{className:bt.a.playerNo},"Player 1:"),a.a.createElement(fe,{items:this.playersWithLocal,selected:this.players[0],select:function(t){e.selectPlayer(t,0)}})),a.a.createElement("div",{className:bt.a.VS}),a.a.createElement("div",{className:bt.a.playersList},a.a.createElement("div",{className:bt.a.playerNo},"Player 2:"),a.a.createElement(fe,{items:this.players,selected:this.players[0],select:function(t){e.selectPlayer(t,1)}}))),a.a.createElement("button",{type:"button",disabled:this.state.selectedPlayers.length<2,onClick:this.startGame,className:bt.a.startGame},"Start"))}}])&&gt(n.prototype,i),u&&gt(n,u),t}(),Pt=n(10),Et=n.n(Pt),jt=n(50),xt=n.n(jt),Nt=n(26),Tt=n.n(Nt);function Ct(e){return(Ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return!t||"object"!==Ct(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),At(this,Rt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){for(var e=this.props,t=e.name,n=e.size,r=e.hitpoints,o=e.highlight,i=n-r,u=[],s=0;s<i;s++)u.push(a.a.createElement("div",{key:s,className:Tt.a.damagedPart}));for(var c=0;c<r;c++)u.push(a.a.createElement("div",{key:i+c,className:Tt.a.healthyPart}));return a.a.createElement("div",{className:o?Tt.a.highlightedShip:Tt.a.ship},a.a.createElement("div",{className:Tt.a.name},t),a.a.createElement("div",{className:Tt.a.structure},u))}}])&&Lt(n.prototype,r),i&&Lt(n,i),t}();function Mt(e){return(Mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return!t||"object"!==Mt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Dt(this,(e=Ht(t)).call.apply(e,[this].concat(o)))).onClick=function(e){n.props.onClick(e)},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.ships,o=n.side,i=void 0===o?"left":o,u=n.mode;return e="setup"===u?xt.a.clickable:xt.a.wrapper,r=r.map(function(n,r){return a.a.createElement("div",{onClick:"setup"===u?t.onClick.bind(t,n):y.a.noop,className:e,key:r},a.a.createElement(Bt,{name:n.name(),size:n.size(),hitpoints:n.hitpoints(),highlight:n===t.props.activeShip}))}),a.a.createElement("div",{className:xt.a[i]},r)}}])&&Vt(n.prototype,r),i&&Vt(n,i),t}(),zt=n(14),Zt=n.n(zt);function Wt(e){return(Wt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return!t||"object"!==Wt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jt=R.results(),Qt=g.shapes(),$t=Qt.HORIZONTAL,en=Qt.VERTICAL,tn=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Kt(this,(e=Ut(t)).call.apply(e,[this].concat(o)))).state={activeIndex:void 0},n.keyDown=function(e){"r"===e.key&&"setup"===n.props.mode&&n.props.onRotate()},n.mouseOut=function(){return n.setState({activeIndex:void 0})},n.mouseMove=function(e){var t=e.target;if(!t.childElementCount){var r=t.parentElement;n.setState({activeIndex:Array.from(r.children).indexOf(t)})}},n.launch=function(e,t){e&&(n.setState({activeIndex:void 0}),n.props.launch(t))},n.fire=function(e){return n.props.fire(e)},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){"setup"===this.props.mode&&window.document.addEventListener("keydown",this.keyDown)}},{key:"componentWillUnmount",value:function(){"setup"===this.props.mode&&window.document.removeEventListener("keydown",this.keyDown)}},{key:"calculateStyleName",value:function(e,t,n,r){var o,a,i=this.props,u=i.mode,s=i.activeShip,c=this.state.activeIndex;if(a=e===Jt.HIT?"hit":e===Jt.SINK?"sink":e===Jt.WATER?"water":"unrevealed","battle"===u&&r&&t===c)return Zt.a.validTarget;if("setup"!==u||void 0===c||!s)return Zt.a[a];var l=[c%10,Math.floor(c/10)],f=l[0],p=l[1],y=t%10,h=Math.floor(t/10);return o=c===t?Zt.a.active:s.shape()===$t&&p===h&&f+s.size()>y&&f<y?Zt.a.active:s.shape()===en&&f===y&&p+s.size()>h&&p<h?Zt.a.active:Zt.a[a],n||o!==Zt.a.active||(o=Zt.a.invalid),o}},{key:"render",value:function(){var e,t,n,r,o,i=this,u=this.props,s=u.board,c=u.mode,l=u.activeShip,f=this.state.activeIndex,p=s.dim();"setup"===c?o=s.setup():"battle"===c?o=s.state():"view"===c&&(o=s.state()),t=[f%10,Math.floor(f/10)],r=R.verifyShootingTarget(s,t),l&&(n=R.verifyShipPosition(s,t,l));var h,m,d,v=qt(p,2),b=v[0],_=v[1],g=y.a.flatten(o).map(function(t,o){return e=i.calculateStyleName(t,o,n,r),a.a.createElement("div",{key:o,className:e})});return"setup"===c&&l?(h=this.launch.bind(this,n,t),m=this.mouseMove,d=this.mouseOut):"battle"===c?(h=r?this.fire.bind(this,t):y.a.noop,m=this.mouseMove,d=this.mouseOut):(h=y.a.noop,m=y.a.noop,d=y.a.noop),a.a.createElement("div",{className:"".concat(Zt.a.board," ").concat(Zt.a[c]),onPointerMove:m,onPointerLeave:d,onClick:h,style:{gridTemplateColumns:"repeat(".concat(b,", 1fr )"),gridTemplateRows:"repeat(".concat(_,", 1fr )")}},g)}}])&&Xt(n.prototype,r),i&&Xt(n,i),t}();function nn(e){return(nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return!t||"object"!==nn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),on(this,an(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.gameInterface.gameRunner,t=e.getPlayers(),n=t[1]instanceof dt?"battle":"view",r=t[0]instanceof dt?"battle":"view";return t[0]instanceof dt?r=0===e.getCurrentPlayer()?"battle":"view":t[1]instanceof dt&&(n=0===e.getCurrentPlayer()?"battle":"view"),a.a.createElement("div",{className:Et.a.battlefield},a.a.createElement("div",{className:Et.a.leftShipList},a.a.createElement("div",{className:Et.a.fleetName},"".concat(t[0].name()," fleet:")),a.a.createElement(Ft,{ships:t[0].ships()})),a.a.createElement("div",{className:Et.a.boards},a.a.createElement("div",{className:0===e.getCurrentPlayer()?Et.a.currentPlayer:Et.a.player},t[0].name()),a.a.createElement("div",{className:Et.a.turn},e.getTurnNo()),a.a.createElement("div",{className:1===e.getCurrentPlayer()?Et.a.currentPlayer:Et.a.player},t[1].name()),a.a.createElement(tn,{board:t[0].board(),mode:n,fire:e.finishLocalPlayerTurn}),a.a.createElement("div",{className:Et.a.gap}),a.a.createElement(tn,{board:t[1].board(),mode:r,fire:e.finishLocalPlayerTurn})),a.a.createElement("div",{className:Et.a.rightShipList},a.a.createElement("div",{className:Et.a.fleetName},"".concat(t[1].name()," fleet:")),a.a.createElement(Ft,{ships:t[1].ships(),side:"right"})))}}])&&rn(n.prototype,r),i&&rn(n,i),t}(),cn=n(31),ln=n.n(cn);function fn(e){return(fn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t){return!t||"object"!==fn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dn={hidden:!1},vn=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=yn(this,(e=hn(t)).call.apply(e,[this].concat(o)))).state=dn,n.hide=function(){n.setState({hidden:!0})},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.hidden||this.state.hidden;return a.a.createElement("div",{className:ln.a.modal,style:{display:e?"none":"flex"}},a.a.createElement("div",{className:ln.a.conclusion},a.a.createElement("div",{className:ln.a.X,onClick:this.hide}),a.a.createElement("div",{className:ln.a.text},this.props.player," won!"),a.a.createElement("div",{className:ln.a.box})))}}])&&pn(n.prototype,r),i&&pn(n,i),t}(),bn=n(19),_n=n.n(bn);function gn(e){return(gn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t){return!t||"object"!==gn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pn=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Sn(this,(e=kn(t)).call.apply(e,[this].concat(o)))).player=n.props.player,n.ships=n.props.player.ships(),n.board=n.player.board(),n.state={activeShip:void 0,ships:y.a.clone(n.ships),ready:!1},n.takeShip=function(e){n.setState({activeShip:e})},n.rotate=function(){n.state.activeShip.rotate(),n.setState({activeShip:n.state.activeShip})},n.launch=function(e){var t=n.state.activeShip,r=n.state.ships;n.board.launch(e,t);var o=!(r=r.filter(function(e){return e!==t})).length;n.setState({activeShip:void 0,ships:r,ready:o})},n.reset=function(){n.board.clear(),n.setState({activeShip:void 0,ships:y.a.clone(n.ships),ready:!1})},n.rnd=function(){for(var e=n.state.ships,t=n.board.launchRandomly(e),r=1e3;!t;)if(t=n.board.launchRandomly(e),!--r)throw new Error("Could not setup board randomly");n.setState({activeShip:void 0,ships:[],ready:!0})},n.start=function(){return n.props.start()},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:_n.a.setup},a.a.createElement(Ft,{mode:"setup",ships:this.state.ships,activeShip:this.state.activeShip,onClick:this.takeShip}),a.a.createElement("div",{className:_n.a.boardSetup},a.a.createElement(tn,{mode:"setup",board:this.board,activeShip:this.state.activeShip,launch:this.launch,onRotate:this.rotate})),a.a.createElement("div",{className:_n.a.controls},a.a.createElement("div",{className:_n.a.info},"Click on a ship from your fleet to place it on the board,",a.a.createElement("br",null),"when ship is active press 'r' to rotate"),a.a.createElement("button",{onClick:this.reset,className:_n.a.reset},"Reset board"),a.a.createElement("button",{onClick:this.rnd,className:this.state.ships.length?_n.a.rnd:_n.a.disabled,disabled:!this.state.ships.length},"Randomly setup board"),a.a.createElement("button",{onClick:this.start,className:this.state.ready?_n.a.start:_n.a.disabled,disabled:!this.state.ready},"To battle!")))}}])&&wn(n.prototype,r),i&&wn(n,i),t}();function En(e){return(En="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t){return!t||"object"!==En(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cn=U.states(),Ln=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=xn(this,(e=Nn(t)).call.apply(e,[this].concat(o)))).createNewGame=function(){n.props.gameInterface.gameRunner.createNewGame()},n.addPlayersAndStartGame=function(e){var t=n.props.gameInterface.gameRunner;t.addPlayers(e),t.startGame()},n.mainMenu=function(){n.props.gameInterface.gameRunner.resetGame()},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e,t,n=this.props.gameInterface,r=n.gameState,o=n.gameRunner;return e=void 0===r?a.a.createElement(re,{newGame:this.createNewGame}):r===Cn.UNREADY?a.a.createElement("div",null,a.a.createElement(Ot,{onStartGame:this.addPlayersAndStartGame})):r===Cn.SETUP?a.a.createElement(Pn,{player:o.getLocalPlayer(),start:o.finishLocalPlayerSetup}):r===Cn.BATTLE||r===Cn.FINISHED?a.a.createElement(sn,{gameInterface:this.props.gameInterface}):"Something went wrong! Please refresh the page.",r===Cn.FINISHED&&(t=a.a.createElement("div",null,a.a.createElement(vn,{player:this.props.gameInterface.gameRunner.winner(),hidden:r!==Cn.FINISHED}),a.a.createElement("button",{className:c.a.returnToMainMenu,onClick:this.mainMenu},"Return to main menu"))),a.a.createElement("div",{className:c.a.landing},a.a.createElement("div",{className:c.a.fog},a.a.createElement("div",{className:c.a.fogFirstLayer}),a.a.createElement("div",{className:c.a.fogSecondLayer}),a.a.createElement("div",{className:c.a.landingBackground})),e,t)}}])&&jn(n.prototype,r),i&&jn(n,i),t}();function An(e){return(An="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function In(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Rn(a,r,o,i,u,"next",e)}function u(e){Rn(a,r,o,i,u,"throw",e)}i(void 0)})}}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t){return!t||"object"!==An(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hn=500,Gn=U.states(),Fn={localPlayer:void 0,gameState:void 0,board1:[[]],board2:[[]]},zn=Object(o.createContext)(Fn),Zn=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Mn(this,(e=Vn(t)).call.apply(e,[this].concat(o)))).state=Fn,n.createNewGame=function(){window.game=n.game=new U,n.setState({gameState:n.game.state()})},n.finishLocalPlayerSetup=function(){return n.setupDeferred.resolve()},n.startLocalPlayerSetup=function(){var e=In(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({gameState:n.game.state()}),n.setupDeferred={},n.setupDeferred.promise=new Promise(function(e,t){n.setupDeferred.resolve=e,n.setupDeferred.reject=t}),e.next=5,n.setupDeferred.promise;case 5:return e.abrupt("return",n.getLocalPlayer().board());case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.finishLocalPlayerTurn=function(e){return n.turnDeferred.resolve({target:e,player:n.getPlayers()[1]})},n.startLocalPlayerTurn=In(f.a.mark(function e(){var t,r,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({gameState:n.game.state()}),n.turnDeferred={},n.turnDeferred.promise=new Promise(function(e,t){n.turnDeferred.resolve=e,n.turnDeferred.reject=t}),e.next=5,n.turnDeferred.promise;case 5:return t=e.sent,r=t.target,o=t.player,e.abrupt("return",{player:o,target:r});case 9:case"end":return e.stop()}},e,this)})),n.addPlayers=function(e){var t;e.forEach(function(e){e!==dt?t=new e({delay:Hn}):(t=new dt({setupCallback:n.startLocalPlayerSetup,turnCallback:n.startLocalPlayerTurn}),n.setState({localPlayer:t})),n.game.add(t)})},n.getPlayers=function(){return n.game.players()},n.getLocalPlayer=function(){return n.game.players()[0]},n.updateFE=function(){var e=n.getPlayers();n.setState({board1:e[0].board().state(),board2:e[1].board().state()})},n.startGame=In(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.game.ready();case 2:return e.next=4,n.game.start(n.updateFE);case 4:n.setState({gameState:n.game.state()});case 5:if(n.game.state()===Gn.FINISHED){e.next=11;break}return e.next=8,n.game.turn();case 8:n.setState({gameState:n.game.state()}),e.next=5;break;case 11:case"end":return e.stop()}},e,this)})),n.getBoardDim=function(){return n.game.dim()},n.getBoardState=function(e){return n.game.players()[e].board().state()},n.getTurnNo=function(){return n.game.turnNo()+1},n.getCurrentPlayer=function(){return n.game.currentPlayerNo()},n.resetGame=function(){delete n.game,n.setState(Fn)},n.winner=function(){return n.game.winners()[0].name()},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){return a.a.createElement(zn.Provider,{value:{gameState:this.state.gameState,gameRunner:{createNewGame:this.createNewGame,addPlayers:this.addPlayers,getPlayers:this.getPlayers,startGame:this.startGame,getBoardDim:this.getBoardDim,getBoardState:this.getBoardState,getTurnNo:this.getTurnNo,getCurrentPlayer:this.getCurrentPlayer,resetGame:this.resetGame,winner:this.winner,localPlayerSetup:this.localPlayerSetup,getLocalPlayer:this.getLocalPlayer,finishLocalPlayerSetup:this.finishLocalPlayerSetup,finishLocalPlayerTurn:this.finishLocalPlayerTurn}}},this.props.children)}}])&&Bn(n.prototype,r),i&&Bn(n,i),t}();function Wn(e){return(Wn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){return!t||"object"!==Wn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xn(this,Kn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.children;return a.a.createElement(zn.Consumer,null,function(t){return o.Children.map(e,function(e){return Object(o.cloneElement)(e,{gameInterface:t})})})}}])&&qn(n.prototype,r),i&&qn(n,i),t}();u.a.render(a.a.createElement(Zn,null,a.a.createElement(Yn,null,a.a.createElement(Ln,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},26:function(e,t,n){e.exports={ship:"ShipComponent_ship__2cIuo",highlightedShip:"ShipComponent_highlightedShip__18R94 ShipComponent_ship__2cIuo",structure:"ShipComponent_structure__4YO9S",name:"ShipComponent_name__lNwuy",part:"ShipComponent_part__tLH3D",damagedPart:"ShipComponent_damagedPart__24rLi ShipComponent_part__tLH3D",healthyPart:"ShipComponent_healthyPart__2lKnr ShipComponent_part__tLH3D"}},30:function(e,t,n){e.exports={menuContainer:"Menu_menuContainer__3k4ZS",menu:"Menu_menu__2pHaf",item:"Menu_item__3qOhj",pixelFlagText:"Menu_pixelFlagText__2nl09",pixelFlag:"Menu_pixelFlag__2GWyb"}},31:function(e,t,n){e.exports={modal:"ConclusionScreen_modal__39kz8",X:"ConclusionScreen_X__3h-xT",conclusion:"ConclusionScreen_conclusion__3NmEa",text:"ConclusionScreen_text__31rIR",box:"ConclusionScreen_box__2SjJQ"}},49:function(e,t,n){e.exports={list:"SelectionList_list__HYRMc",item:"SelectionList_item__2XXX2",selected:"SelectionList_selected__udYd0 SelectionList_item__2XXX2"}},50:function(e,t,n){e.exports={right:"ShipList_right__3VN2T",wrapper:"ShipList_wrapper__h7GPo",clickable:"ShipList_clickable__3afGi"}}},[[116,2,1]]]);
//# sourceMappingURL=main.6e2d8854.chunk.js.map